<!DOCTYPE html>
<html lang='ja'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>補助資料 | 数学・統計学のおさらい</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Roboto:wght@400;700;900&display=swap');
        :root {
            --primary-color: #0d47a1;
            --secondary-color: #1976d2;
            --accent-color: #ff6f00;
            --text-color: #333;
            --bg-color: #f5f7fa;
            --content-bg: #ffffff;
        }
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8;
            margin: 0;
        }
        .header {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            text-align: center;
        }
        .header h1 {
            font-family: 'Roboto', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: var(--content-bg);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        h2 {
            font-family: 'Roboto', sans-serif;
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
        }
        h3 {
            font-family: 'Roboto', sans-serif;
            color: var(--secondary-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-left: 5px solid var(--accent-color);
            padding-left: 0.8rem;
        }
        p { margin-bottom: 1rem; }
        .highlight { color: var(--accent-color); font-weight: bold; }
        .concept-box {
            background-color: #f0f4f8;
            border: 1px solid #d0dbe5;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .concept-box svg {
            width: 100px;
            flex-shrink: 0;
        }
    </style>
</head>
<body>

    <header class='header'>
        <h1>数学・統計学のおさらい</h1>
        <p>主成分分析を理解するための基礎知識</p>
    </header>

    <div class='container'>
        <h2>はじめに</h2>
        <p>主成分分析(PCA)は、いくつかの数学・統計学の概念の上に成り立っています。この資料では、PCAの理論を理解するために特に重要なキーワードを、数式ではなく<strong class='highlight'>直感的なイメージ</strong>で復習します。「単語に抵抗がない」レベルを目指しましょう！</p>

        <h2>統計学のキーワード</h2>
        
        <h3>分散 (Variance)</h3>
        <p>「データのばらつき具合」を表す指標です。値が大きいほど、データが平均値から広く散らばっていることを意味します。</p>
        <div class='concept-box'>
            <svg viewBox='0 0 100 50'><line x1='10' y1='25' x2='90' y2='25' stroke='#ccc'/><circle cx='20' cy='25' r='3' fill='#1976d2'/><circle cx='30' cy='25' r='3' fill='#1976d2'/><circle cx='40' cy='25' r='3' fill='#1976d2'/><text x='50' y='15' font-size='8' text-anchor='middle'>分散が小さい</text></svg>
            <svg viewBox='0 0 100 50'><line x1='10' y1='25' x2='90' y2='25' stroke='#ccc'/><circle cx='15' cy='25' r='3' fill='#ff6f00'/><circle cx='50' cy='25' r='3' fill='#ff6f00'/><circle cx='85' cy='25' r='3' fill='#ff6f00'/><text x='50' y='15' font-size='8' text-anchor='middle'>分散が大きい</text></svg>
        </div>
        <p style='margin-top:1rem;'>PCAでは、この<strong class='highlight'>「分散が大きい方向」＝「データの特徴を最もよく表す方向」</strong>と考え、その方向を探しに行きます。</p>

        <h3>共分散 (Covariance)</h3>
        <p>「2種類のデータが、どの程度同じように動くか」を表す指標です。例えば、身長と体重のように、片方が増えるともう片方も増える傾向がある場合、共分散は正の大きな値になります。</p>
        <div class='concept-box'>
            <svg viewBox='0 0 100 80'>
                <line x1='10' y1='70' x2='90' y2='70' stroke='#ccc' /><text x='95' y='70' font-size='8'>身長</text>
                <line x1='10' y1='70' x2='10' y2='10' stroke='#ccc' /><text x='10' y='5' font-size='8' text-anchor='middle'>体重</text>
                <circle cx='30' cy='60' r='2' fill='#1976d2'/><circle cx='40' cy='50' r='2' fill='#1976d2'/><circle cx='50' cy='40' r='2' fill='#1976d2'/><circle cx='60' cy='30' r='2' fill='#1976d2'/>
                <text x='50' y='78' font-size='8' text-anchor='middle'>共分散が正 (右肩上がり)</text>
            </svg>
            <p>PCAは、各変数間の共分散をまとめた「分散共分散行列」という表を使って計算を行います。これにより、データ全体の構造を捉えることができます。</p>
        </div>

        <h2>線形代数のキーワード</h2>

        <h3>行列 (Matrix)</h3>
        <p>数字を長方形に並べたものです。データ分析の世界では、Excelの表のように「たくさんのデータをまとめて表現する」ために使われます。</p>
        <div class='concept-box'>
            <svg viewBox='0 0 100 60'>
                <rect x='10' y='10' width='80' height='40' fill='none' stroke='#333'/>
                <text x='50' y='35' font-size='10' text-anchor='middle'>顧客A [5, 4, 3, ...]</text>
                <text x='50' y='50' font-size='10' text-anchor='middle'>顧客B [2, 5, 1, ...]</text>
            </svg>
            <p>また、行列はデータを「変換」する道具（関数のようなもの）としても機能します。例えば、ある行列をデータにかけると、データを回転させたり、拡大・縮小させたりできます。</p>
        </div>

        <h3>固有値 (Eigenvalue) & 固有ベクトル (Eigenvector)</h3>
        <p>PCAの心臓部です。ある行列（データ変換）に対して、<strong class='highlight'>「変換をしても向きが変わらない、特別な方向のベクトル」</strong>が<strong class='highlight'>固有ベクトル</strong>です。そして、その固有ベクトルが変換によってどれだけ伸び縮みしたか、その<strong class='highlight'>「倍率」</strong>が<strong class='highlight'>固有値</strong>です。</p>
        <div class='concept-box'>
            <svg viewBox='0 0 100 80'>
                <path d='M 20 60 L 50 70' stroke-dasharray='3 3' stroke='#ccc' marker-end='url(#arrow)'/>
                <path d='M 20 60 L 30 30' stroke-dasharray='3 3' stroke='#ccc' marker-end='url(#arrow)'/>
                <path d='M 20 60 L 80 50' stroke='#1976d2' stroke-width='2' marker-end='url(#arrow)'/>
                <text x='50' y='20' font-size='8'>変換前</text>
            </svg>
            <svg viewBox='0 0 100 80'>
                <text x='50' y='15' font-size='8' text-anchor='middle'>行列Aで変換</text>
                <path d='M 50 45 L 75 45' stroke-width='1.5' stroke='#333' marker-end='url(#arrow)'/>
            </svg>
            <svg viewBox='0 0 100 80'>
                <path d='M 20 60 L 20 20' stroke-dasharray='3 3' stroke='#ccc' marker-end='url(#arrow)'/>
                <path d='M 20 60 L 60 25' stroke-dasharray='3 3' stroke='#ccc' marker-end='url(#arrow)'/>
                <path d='M 20 60 L 90 55' stroke='#ff6f00' stroke-width='2' marker-end='url(#arrow)'/>
                <text x='50' y='20' font-size='8'>変換後</text>
                <text x='55' y='75' font-size='8' fill='#ff6f00'>固有ベクトル（向き不変）</text>
            </svg>
            <defs><marker id='arrow' viewBox='0 0 10 10' refX='5' refY='5' markerWidth='6' markerHeight='6' orient='auto-start-reverse'><path d='M 0 0 L 10 5 L 0 10 z' fill='#333' /></marker></defs>
        </div>
        <p style='margin-top:1rem;'>PCAでは、<strong class='highlight'>固有値が大きい ＝ その方向の分散が大きい ＝ 重要</strong>と解釈します。つまり、固有値の大きい順に固有ベクトル（主成分）を採用することで、効率的にデータを要約できるのです。</p>
    </div>

</body>
</html>