<!DOCTYPE html>
<html lang='ja'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>第2章：理論編</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Roboto:wght@400;700;900&display=swap');
        :root {
            --primary-color: #0d47a1; /* Deep Blue */
            --secondary-color: #1976d2; /* Medium Blue */
            --accent-color: #ff6f00; /* Amber */
            --text-color: #333;
            --bg-color: #f5f7fa;
            --slide-bg: #ffffff;
            --header-font: 'Roboto', 'Noto Sans JP', sans-serif;
            --body-font: 'Noto Sans JP', sans-serif;
        }
        body {
            font-family: var(--body-font);
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 2em;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .slide-container {
            width: 100%;
            max-width: 960px;
            aspect-ratio: 16 / 9;
            background: var(--slide-bg);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 2em;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }
        .slide-header {
            padding: 0.5em 1.5em;
            background-color: var(--primary-color);
            color: white;
            font-family: var(--header-font);
            font-weight: 700;
            font-size: 1.2rem;
            text-align: center;
        }
        .slide-content {
            flex-grow: 1;
            padding: 2em 3em;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .slide-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 0.5em 1.5em;
            font-size: 0.8rem;
            color: #777;
            text-align: right;
        }
        h1, h2, h3 {
            font-family: var(--header-font);
            font-weight: 900;
            color: var(--primary-color);
            margin: 0;
        }
        h1 { font-size: 3rem; text-align: center; }
        h2 { font-size: 2.2rem; }
        p { font-size: 1.1rem; line-height: 1.8; }
        .subtitle { color: var(--secondary-color); font-size: 1.5rem; font-weight: 400; margin-top: 0.5em; text-align: center; }
        .flex-container { display: flex; justify-content: space-around; align-items: center; width: 100%; gap: 2em; }
        .flex-item { flex: 1; text-align: center; }
        .arrow { font-size: 3rem; color: var(--accent-color); font-weight: 900; }
        .highlight { color: var(--accent-color); font-weight: bold; }
        .keyword-box {
            background: #e3f2fd;
            border-left: 5px solid var(--secondary-color);
            padding: 0.5em 1em;
            margin: 1em 0;
            font-size: 1.2rem;
        }

    </style>
</head>
<body>

    <!-- Slide 1: Chapter Title -->
    <div class='slide-container'>
        <div class='slide-content'>
            <p class='subtitle'>第2章 理論編</p>
            <h1>主成分分析の「キモ」を掴む</h1>
            <p class='subtitle'>数式が苦手でも大丈夫。イメージで理解しよう！</p>
        </div>
        <div class='slide-footer'>1 / 5</div>
    </div>

    <!-- Slide 2: Intuitive Understanding -->
    <div class='slide-container'>
        <div class='slide-header'>2. 理論編</div>
        <div class='slide-content'>
            <h2 style='width: 100%; text-align:center; margin-bottom: 1em;'>PCAの基本アイデア</h2>
            <div class='flex-container'>
                <div class='flex-item' style='flex: 2;'>
                    <svg viewBox='0 0 200 150'>
                        <defs>
                            <g id='datapoints'>
                                <circle cx='50' cy='60' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='60' cy='65' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='70' cy='75' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='80' cy='80' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='90' cy='90' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='100' cy='95' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='110' cy='105' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='120' cy='110' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='130' cy='120' r='3' fill='#1976d2' opacity='0.7'/>
                                <circle cx='140' cy='125' r='3' fill='#1976d2' opacity='0.7'/>
                            </g>
                        </defs>
                        <use href='#datapoints' />
                        <!-- Axis -->
                        <line x1='30' y1='140' x2='170' y2='140' stroke='#333' stroke-width='1'/>
                        <text x='175' y='140' font-size='10'>変数1</text>
                        <line x1='30' y1='140' x2='30' y2='40' stroke='#333' stroke-width='1'/>
                        <text x='30' y='35' font-size='10' text-anchor='middle'>変数2</text>
                        <!-- PC1 -->
                        <line x1='40' y1='45' x2='160' y2='135' stroke-width='3' stroke='var(--accent-color)'>
                            <animate attributeName='stroke-dasharray' from='0, 200' to='200, 0' dur='1.5s' fill='freeze' />
                        </line>
                         <text x='165' y='130' font-size='12' fill='var(--accent-color)' font-weight='bold'>第1主成分 (PC1)</text>
                         <!-- PC2 -->
                         <line x1='120' y1='50' x2='70' y2='140' stroke-width='2' stroke='var(--secondary-color)' stroke-dasharray='4 4'>
                             <animate attributeName='stroke-dasharray' from='0, 200' to='4, 4' dur='1.5s' begin='1.5s' fill='freeze' />
                         </line>
                         <text x='125' y='50' font-size='12' fill='var(--secondary-color)' font-weight='bold'>第2主成分 (PC2)</text>
                    </svg>
                </div>
                <div class='flex-item' style='flex: 1.5; text-align: left;'>
                    <p>PCAは、データの<strong class='highlight'>「ばらつき（分散）」</strong>が<strong class='highlight'>最も大きい方向</strong>を探します。</p>
                    <p>① この最も重要な方向を<strong class='highlight'>「第1主成分」</strong>とします。</p>
                    <p>②次に、第1主成分と<strong class='highlight'>直交する方向</strong>の中で、最もばらつきが大きい方向を<strong class='highlight'>「第2主成分」</strong>とします。</p>
                </div>
            </div>
        </div>
        <div class='slide-footer'>2 / 5</div>
    </div>
    
    <!-- Slide 3: Keywords -->
    <div class='slide-container'>
        <div class='slide-header'>2. 理論編</div>
        <div class='slide-content'>
            <h2 style='text-align:center; width:100%; margin-bottom: 1.5em;'>重要キーワード（意味を理解する）</h2>
            <div class='flex-container'>
                <div class='flex-item' style='text-align:left; background: #f0f4f8; padding: 1.5em; border-radius: 8px;'>
                    <h3 style='color: var(--secondary-color);'>分散 & 共分散</h3>
                    <p><strong style='color: var(--primary-color)'>分散:</strong> １つの変数のデータの広がり具合。<br><span style='font-size:0.9em'>「分散が大きい ＝ 情報量が多い」と考える。</span></p>
                    <p><strong style='color: var(--primary-color)'>共分散:</strong> ２つの変数が一緒に動く度合い。<br><span style='font-size:0.9em'>（例：身長と体重は共に増える傾向 → 共分散は正）</span></p>
                </div>
                <div class='flex-item' style='text-align:left; background: #fff3e0; padding: 1.5em; border-radius: 8px;'>
                    <h3 style='color: var(--accent-color);'>固有ベクトル & 固有値</h3>
                    <p><strong style='color: #bf360c;'>固有ベクトル:</strong> 新しい<strong class='highlight'>「軸の向き」</strong>を示すもの。<br><span style='font-size:0.9em'>（＝主成分の方向）</span></p>
                    <p><strong style='color: #bf360c;'>固有値:</strong> その軸の<strong class='highlight'>「重要度」</strong>を示すもの。<br><span style='font-size:0.9em'>（＝主成分の分散の大きさ）</span></p>
                </div>
            </div>
             <p style='text-align: center; margin-top: 2em;'>PCAは、データの<strong class='highlight'>分散共分散行列</strong>から<strong class='highlight'>固有値・固有ベクトル</strong>を計算しています。</p>
        </div>
        <div class='slide-footer'>3 / 5</div>
    </div>
    
    <!-- Slide 4: Process Image -->
    <div class='slide-container'>
        <div class='slide-header'>2. 理論編</div>
        <div class='slide-content'>
            <h2 style='text-align:center; width:100%; margin-bottom: 1em;'>主成分分析の処理イメージ</h2>
            <svg viewBox='0 0 400 200' width='100%'>
                 <!-- Step 1: Original Data -->
                 <g>
                     <rect x='10' y='50' width='80' height='100' fill='#e3f2fd' stroke='#1976d2' rx='5'/>
                     <text x='50' y='95' text-anchor='middle' font-size='12'>元のデータ</text>
                     <text x='50' y='115' text-anchor='middle' font-size='10'>(x, y)</text>
                 </g>
                 <path d='M95,100 L125,100' stroke-width='2' stroke='#333' marker-end='url(#arrowhead)'/>

                 <!-- Step 2: Rotate -->
                 <g>
                     <rect x='130' y='50' width='80' height='100' fill='#e8f5e9' stroke='#388e3c' rx='5' transform='rotate(-20 170 100)'/>
                     <text x='170' y='95' text-anchor='middle' font-size='12' transform='rotate(-20 170 100)'>データを</text>
                     <text x='170' y='115' text-anchor='middle' font-size='12' transform='rotate(-20 170 100)'>回転</text>
                     <text x='170' y='15' text-anchor='middle' font-size='12' fill='#388e3c'>Step 1: データの回転</text>
                 </g>
                 <path d='M215,100 L245,100' stroke-width='2' stroke='#333' marker-end='url(#arrowhead)'/>

                 <!-- Step 3: Select Dimension -->
                 <g>
                     <rect x='250' y='75' width='140' height='50' fill='#fff3e0' stroke='#ff6f00' rx='5' />
                     <text x='320' y='105' text-anchor='middle' font-size='12'>新しい軸で表現</text>
                     <text x='320' y='45' text-anchor='middle' font-size='12' fill='#ff6f00'>Step 2: 次元の取捨選択</text>
                     <line x1='250' y1='100' x2='390' y2='100' stroke='var(--accent-color)' stroke-width='2'/>
                     <text x='370' y='95' font-size='10'>PC1</text>
                     <line x1='260' y1='90' x2='260' y2='110' stroke='var(--secondary-color)' stroke-dasharray='2 2'/>
                     <text x='260' y='85' font-size='10'>PC2 (捨てる)</text>
                 </g>
                <defs><marker id='arrowhead' markerWidth='10' markerHeight='7' refX='0' refY='3.5' orient='auto'><polygon points='0 0, 10 3.5, 0 7' fill='#333'/></marker></defs>
            </svg>
            <div class='keyword-box' style='width: 90%;'>
            PCAの本質は、<strong class='highlight'>「データの回転」</strong>と<strong class='highlight'>「次元の取捨選択」</strong>。<br>
            元の情報をできるだけ保ったまま、新しい視点（座標軸）からデータを見直すことです。
            </div>
        </div>
        <div class='slide-footer'>4 / 5</div>
    </div>
    
    <!-- Slide 5: Summary -->
    <div class='slide-container'>
        <div class='slide-header'>2. 理論編</div>
        <div class='slide-content'>
            <h2 style='text-align:center;'>第2章のまとめ</h2>
            <ul style='font-size: 1.2rem; line-height: 2; list-style: none; padding-left: 0;'>
                <li style='margin-bottom: 1em;'>✅ PCAは、データの<strong class='highlight'>「ばらつき（分散）」が最大になる方向</strong>を新しい軸（主成分）として見つけ出す。</li>
                <li style='margin-bottom: 1em;'>✅ <strong style='color: var(--primary-color);'>固有ベクトル</strong>が<strong style='color: var(--primary-color);'>「軸の向き」</strong>、<strong style='color: var(--primary-color);'>固有値</strong>がその<strong style='color: var(--primary-color);'>「重要度」</strong>に対応する。</li>
                <li style='margin-bottom: 1em;'>✅ 処理のイメージは<strong class='highlight'>「データの回転」</strong>と<strong class='highlight'>「次元の取捨選択」</strong>の2ステップ。</li>
            </ul>
        </div>
        <div class='slide-footer'>5 / 5</div>
    </div>

</body>
</html>